name: Lint - Flake8

on:
  push:

jobs:
  lint:
    runs-on: ubuntu-latest
    steps:
       - name: Checkout
         uses: actions/checkout@v2

       - name: Set up Python
         uses: actions/setup-python@v2
         with:
           python-version: '3.10'

       - name: Install dependencies
         run: |
           python -m pip install --upgrade pip
           pip install mypy
           pip install flake8

       - name: Run Flake8
         run: |
           cd flake8 --config=.flake8 .

       - name: Run Mypy
         run: |
           cd sdk && mypy . && cd -
           cd examples && mypy .